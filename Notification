// NOTIFICATION using API

// Request permission for notifications
function requestNotificationPermission() {
  if ('Notification' in window) {
    Notification.requestPermission()
      .then((permission) => {
        if (permission === 'granted') {
          console.log('Notification permission granted');
        } else if (permission === 'denied') {
          console.warn('Notification permission denied');
        }
      })
      .catch((error) => {
        console.error('Error occurred while requesting notification permission:', error);
      });
  }
}

// Show a notification
function showNotification(title, options) {
  if ('Notification' in window && Notification.permission === 'granted') {
    new Notification(title, options);
  }
}

// Example usage
function handleNewVideo() {
  const title = 'New Video Uploaded';
  const options = {
    body: 'Check out the latest video on our channel!',
    icon: '/path/to/video-thumbnail.png',
    // Add more options as needed
  };
  showNotification(title, options);
}

// Request permission on page load
document.addEventListener('DOMContentLoaded', () => {
  requestNotificationPermission();
});
